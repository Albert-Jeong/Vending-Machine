## 1. 계획(Planning)
- **개요**
	- 1학년 1학기 전산학기초 개인 과제
	- Python 객체지향 자동판매기 개발

- **개발 환경**
	- Python
	- Miniconda Virtual Environment
	- Visual Studio Code

## 2. 요구사항 분석(Requirement Analysis)
### 2.1. 자판기 분석
#### (1) 자판기 구조
![|300](https://imgur.com/H5nsscS.png)
- 실제 자판기의 구조는 위 사진과 같다. (출처: ㈜로벤, RCP-2012DB 모델 자동판매기)

![](https://imgur.com/3KmBAaz.png)
- 자판기의 대략적인 동작 흐름은 위와 같다.

#### (2) 음료 데이터
|         제품명          |   가격   |
| :------------------: | :----: |
|       가나 초코라떼        |  600원  |
|      레쓰비 마일드 커피      |  600원  |
|       아이시스 8.0       |  600원  |
|       게토레이 레몬        |  800원  |
|         밀키스          |  800원  |
|        잔치집 식혜        |  800원  |
|       코코 리치 포도       |  800원  |
|         펩시콜라         |  800원  |
|     레쓰비 카페타임 라떼      | 1,000원 |
|     립톤 아이스티 복숭아      | 1,000원 |
|        칠성사이다         | 1,000원 |
|     칸타타 프리미엄 라떼      | 1,000원 |
|       코코리치 망고        | 1,000원 |
|        트레비 라임        | 1,000원 |
|    트로피카나 스파클링 사과     | 1,000원 |
|    트로피카나 스파클링 포도     | 1,000원 |
|         핫식스          | 1,000원 |
|        옥수수수염차        | 1,300원 |
| 데일리-C 레몬워터 비타민C 1000 | 1,500원 |
|  칸타타 콘트라베이스 콜드브루 블랙  | 2,000원 |
- 과제에서 제시된 음료 데이터는 위 표와 같다.

### 2.2. 기능적 요구사항(Functional Requirement)
- 크게 사용자 기능과 관리자 기능으로 나눌 수 있다.

#### (1) 사용자 기능
- 음료의 이름, 가격, 재고 상태 및 자동판매기의 상태(잔액 반환 가능 여부)를 출력한다.
- 100원, 500원, 1,000원 이렇게 세 종류의 화폐를 투입받고 금액을 계산한다.
- 구매할 음료를 선택받고, 투입된 금액에서 선택한 음료의 가격을 차감하여 결제를 진행한다.
- 결제가 완료되면, 잔액을 다시 고액권 순서대로 계산하여 반환한다.

#### (2) 관리자 기능
- 음료 재고 출력, 음료 재고 보충, 음료 이름 수정, 음료 가격 수정
- 현금 재고 출력, 현금 재고 보충

### 2.3. 비기능적 요구사항(Non-functional requirement)
- 객체지향 원칙(캡슐화, 상속, 다형성) 준수
- 예외 처리

## 3. 설계(Design) 및 구현(Implementation)
### 3.1. src_v1
#### (1) Info
- **한계**
	- 프로그래밍과 Python을 처음 배웠을 때 작성한 코드라 난해한 부분이 많다.
	- 음료수와 현금을 객체로 인식하지 않았다. (value 값에 list를 배치한 dictionary를 사용하였음)

#### (2) 구성
|          파일          |              기능              |
| :------------------: | :--------------------------: |
|      `main.py`       | 메인 루프 구현 (`main.py` 파일에서 실행) |
|  `basic_module.py`   |  각 모드에 공통으로 필요한 기본적인 함수 모음   |
| `consumer_module.py` |          사용자 모드 구현           |
|  `admin_module.py`   |  관리자 모드 구현 (`/admin`으로 진입)   |
- 다음은 전반적인 모듈화 설계 구조를 간단한 그림으로 나타낸 것이다.
![](https://imgur.com/Dn8moyL.png)

### 3.2. src_v2
#### (1) Info
- **개선**
	- 난해한 코드 일부를 수정했다.
	- 음료수와 현금을 객체로 구현했다.
- **한계**
	- 객체 활용 테스트를 위해 초반부만 구현했다.
	- 공통된 메서드 구조에 대한 추상 클래스나 인터페이스 설계에 대한 점을 고려해 보면 좋겠다.
	- 상태 머신에 대한 설계도 고려해 보면 좋을 것 같다.

#### (2) 구성
|          파일          |                    기능                    |
| :------------------: | :--------------------------------------: |
|      `main.py`       |       메인 루프 구현 (`main.py` 파일에서 실행)       |
|      `basic.py`      | 공통으로 필요한 기본 함수 모음 (src_v1의 basic_module) |
|      `drink.py`      |                 음료수 클래스                  |
|      `cash.py`       |                  현금 클래스                  |
| `vending_machine.py` | 음료수와 현금의 클래스를 받고 자동판매기 클래스의 메소드를 정의<br>  |

## 4. 테스트(Testing)
- **테스트 포인트**
	- 유스 케이스 테스트
	- 예외 처리 테스트 포함 등

- **개선할 점**
	- 예외 처리 및 에러 핸들링
	- UI/UX 확장 (CLI → GUI, Web 연동)

### 4.1. src_v1
![|500](https://imgur.com/zf6gjJb.png)
- 첫 실행 시 음료의 목록과 재고 상태를 위와 같이 보여준다.
- 거스름돈의 재고가 충분하지 않아 반환할 수 없으면, 판매를 거부하도록 하였다.
- 현금 투입은 액면가 단위별로 개수 단위로 투입할 수 있다.
- 자동판매기의 모든 사용자 입력은 모두 예외 처리가 되어있다.

![|500](https://imgur.com/TrxAi23.png)
- 현금을 모두 투입하고 나면, 음료 목록의 재고 상태가 갱신된다. 투입한 금액보다 더 높은 가격의 음료는 구매할 수 없다.
- 재고나 잔액이 부족한 상품의 구매를 시도하면, 당연히 진행되지 않는다.
- 이후, 거스름돈이 고액권 순서대로 자동으로 계산되어 반환된다.

![|500](https://imgur.com/eryXEWK.png)
- 이번에는 첫 실행 시 /admin을 입력하여 관리자 모드로 진입하였다.
- 관리자 모드의 메뉴가 다음과 같이 출력된다.
- 이 중에서 1번의 판매 중인 상품 출력을 실행해보았다. 소비자 모드와는 다르게 판매 중인 상품의 재고 상태를 상세히 확인할 수 있다.

![|500](https://imgur.com/T9KaI3S.png)
- 이번에는 2번의 재고 보충을 실행하여 재고가 없는 4번의 재고를 보충해보았다. 당연히 수용할 수 있는 용량 이상으로 재고를 보충할 수는 없다.

![|500](https://imgur.com/IiBfZbk.png)
![|500](https://imgur.com/hJUQETm.png)
- 3번의 이름 수정과 4번의 가격 수정 역시 시도해보았다.

![|500](https://imgur.com/sZmVvEp.png)
- 그 결과 다음과 같이 2번, 3번, 4번 메뉴가 성공적으로 진행되었다.

![|500](https://imgur.com/EvY8AL4.png)
- 마지막으로, 5번의 보유 중인 현금 출력과 6번의 현금 재고 보충 메뉴이다.
- 자판기 음료 보충과 비슷한 메커니즘을 사용하였으며, 이 역시도 무리 없이 성공적으로 진행되었다.